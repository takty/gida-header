"use strict";window.GIDA=window.GIDA??{},window.GIDA.header_fixed=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-header",i="gida-header-top",o="sticky",s="floating",d="offset",l=e.minWindowWidth??600,a=e.maxHeaderHeightRate??.2,c=e.minSwitchingOffset??20,r=e.scrollPaddingOffset??8;let u,g,p=!1,f=0,m=0,w=0,h=0;function v(){const t=document.documentElement;if(null!==t.getAttribute("data-scroll-padding-top"))return;t.setAttribute("data-scroll-padding-top","");new MutationObserver(L).observe(t,{attributes:!0})}function y(t,e){const n=document.documentElement,i=n.getAttribute("data-scroll-padding-top"),o=i?new Map(i.split(",").map((t=>t.split(":")))):new Map;e?o.set(t,e):o.delete(t),n.setAttribute("data-scroll-padding-top",Array.from(o).map((t=>t.join(":"))).join(",")),L()}function L(){const t=document.documentElement,e=t.getAttribute("data-scroll-padding-top");if(""===e)t.style.scrollPaddingTop=null;else{const n=e.split(",").map((t=>t.split(":")[1]));t.style.scrollPaddingTop=`calc(${n.join(" + ")})`}}const E=[],A=[];function C(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),E.push(B(t))}function b(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),A.push(B(t))}function B(t){let e;function n(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(n))}}function x(t,e){return e.getBoundingClientRect().top-t.getBoundingClientRect().top}function M(){return parseFloat(getComputedStyle(document.documentElement).marginTop)}function O(){R(G()),p&&(f=M(),D(),H())}function R(t){t!==p&&(t?u.classList.add(o):(u.classList.remove(o,s,d),u.style.top=null,y("gida-header",null)),p=t)}function D(){w=j(u)+window.scrollY,u.style.top=w+h+"px";y("gida-header",u.getBoundingClientRect().height+w+h+r+"px")}function H(){if(!p)return;I(0!==window.pageYOffset);Y(j(u)+x(u,g)<=f)}function I(t){u.classList.contains(s)!==t&&(t?u.classList.add(s):u.classList.remove(s))}function Y(t){if(u.classList.contains(d)===t)return;if(Math.abs(m-window.scrollY)<=c)return;m=window.scrollY,h=t?-w+f-x(u,g):0,t?u.classList.add(d):u.classList.remove(d),u.style.top=w+h+"px";y("gida-header",u.getBoundingClientRect().height+w+h+r+"px")}function j(t){const e=t.style.position;t.style.position="static";const n=t.getBoundingClientRect().top;return t.style.position=e,n}function G(){return!(window.innerWidth<l)&&!(window.innerHeight*a<g.clientHeight)}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of E)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of A)t()}),{passive:!0})})),document.addEventListener("DOMContentLoaded",(()=>{v(),u=t?document.getElementById(t):document.getElementsByClassName(n)[0],u&&(g=u.getElementsByClassName(i)[0]??u,C(O,!0),b(H,!0))}))};
//# sourceMappingURL=fixed.min.js.map