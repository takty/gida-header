"use strict";window.GIDA=window.GIDA??{},window.GIDA.header_fixed=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-header",o="gida-header-top",i="sticky",s="floating",l="offset",d=e.minWindowWidth??600,c=e.maxHeaderHeightRate??.2,a=e.minSwitchingOffset??100,r=e.minSwitchingTime??200,u=e.scrollPaddingOffset??8,m=e.margin??100;let p,g,f=!1,h=0,w=0,y=Number.MAX_SAFE_INTEGER,v=0,b=0,E=0,C=0,A=0,L=0,M=0;const T=null!==navigator.userAgent.match(/iPad|iPhone|iPod/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;function I(){const t=document.documentElement;if(null!==t.getAttribute("data-scroll-padding-top"))return;t.setAttribute("data-scroll-padding-top","");new MutationObserver(Y).observe(t,{attributes:!0});const e=parseInt(getComputedStyle(t).scrollPaddingTop);B("default",Number.isNaN(e)?0:e)}function B(t,e){const n=document.documentElement,o=n.getAttribute("data-scroll-padding-top"),i=o?new Map(o.split(",").map((t=>t.split(":")))):new Map;e?i.set(t,e):i.delete(t),n.setAttribute("data-scroll-padding-top",Array.from(i).map((t=>t.join(":"))).join(",")),Y()}function P(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=document.documentElement,n=e.getAttribute("data-scroll-padding-top");if(!n)return 0;const o=n.split(",").map((t=>t.split(":"))).filter((e=>{let[n]=e;return n!==t})).map((t=>{let[e,n]=t;return parseInt(n)}));return o.reduce(((t,e)=>t+e),0)}function Y(){document.documentElement.style.scrollPaddingTop=P()+"px"}const H=[],N=[];function R(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),H.push(S(t))}function x(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),N.push(S(t))}function O(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):setTimeout(t,0)}function S(t){let e;function n(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(n))}}function W(t){const e=t.style.position;t.style.position="static";const n=t.getBoundingClientRect();return t.style.position=e,n}function D(t,e){return e.getBoundingClientRect().top-t.getBoundingClientRect().top}function G(){return parseFloat(getComputedStyle(document.documentElement).marginTop)}function F(){const t=document.createElement("div"),e=document.createElement("div");t.style.opacity=e.style.opacity=0,t.style.position=e.style.position="absolute",t.style.height="100lvh",e.style.height="100svh",document.body.appendChild(t),document.body.appendChild(e);const n=t.clientHeight,o=e.clientHeight;return document.body.removeChild(t),document.body.removeChild(e),[n,o]}function _(){const t=window.location.hash;if(!t||t.length<2||"#"!==t[0])return;const e=document.getElementById(t.substring(1));e&&setTimeout((()=>{const t=parseInt(document.documentElement.style.scrollPaddingTop,10);window.scrollTo(0,e.getBoundingClientRect().top+window.pageYOffset-t)}),0)}function j(){M!==window.innerWidth&&([A,L]=T?F():[window.innerHeight,window.innerHeight],M=window.innerWidth),k(K()),f&&(h=G(),q(),z(!0))}function k(t){t!==f&&(t?(p.classList.add(i),p.style.position="sticky"):(p.classList.remove(i,s,l),p.style.position=null,p.style.top=null,B("gida-header",null)),f=t)}function q(){const t=W(p),e=D(p,g);v=t.top+window.scrollY,b=t.top+window.scrollY+e,E=Math.ceil(h-e),C=Math.ceil(t.bottom+window.scrollY+u)}function z(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f&&(X(10<window.pageYOffset),J(b+m<=window.scrollY+h,t),setTimeout((()=>{let t=C;p.classList.contains(l)&&(t=Math.ceil(p.getBoundingClientRect().height+E+u)),B("gida-header",t+(A-L))}),0))}function X(t){p.classList.contains(s)!==t&&(t?p.classList.add(s):p.classList.remove(s))}function J(t,e){if(!e){if(p.classList.contains(l)===t)return;if(Math.abs(w-window.scrollY)<=a)return;if(w=window.scrollY,Math.abs(y-performance.now())<=r)return;y=performance.now()}t?(p.classList.add(l),p.style.top=E+"px"):(p.classList.remove(l),p.style.top=v+"px")}function K(){return!(window.innerWidth<d)&&!(L*c<g.clientHeight)}O((()=>{window.addEventListener("resize",(()=>{for(const t of H)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of N)t()}),{passive:!0})})),O((()=>{I(),p=t?document.getElementById(t):document.getElementsByClassName(n)[0],p&&(g=p.getElementsByClassName(o)[0]??p,R(j,!0),x(z,!0),_())}))};
//# sourceMappingURL=fixed.min.js.map