"use strict";window.GIDA=window.GIDA??{},window.GIDA.header_fixed=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-header",i="gida-header-top",o="sticky",s="floating",d="offset",l=e.minWindowWidth??600,a=e.maxHeaderHeightRate??.2,r=e.minSwitchingOffset??20,c=e.minSwitchingTime??200,u=e.scrollPaddingOffset??8;let p,g,m=!1,f=0,w=0,h=0,y=0,v=0;function L(){const t=document.documentElement;if(null!==t.getAttribute("data-scroll-padding-top"))return;t.setAttribute("data-scroll-padding-top","");new MutationObserver(A).observe(t,{attributes:!0});const e=parseInt(getComputedStyle(t).scrollPaddingTop);b("default",Number.isNaN(e)?0:e)}function b(t,e){const n=document.documentElement,i=n.getAttribute("data-scroll-padding-top"),o=i?new Map(i.split(",").map((t=>t.split(":")))):new Map;e?o.set(t,e):o.delete(t),n.setAttribute("data-scroll-padding-top",Array.from(o).map((t=>t.join(":"))).join(",")),A()}function E(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=document.documentElement,n=e.getAttribute("data-scroll-padding-top");if(!n)return 0;const i=n.split(",").map((t=>t.split(":"))).filter((e=>{let[n]=e;return n!==t})).map((t=>{let[e,n]=t;return parseInt(n)}));return i.reduce(((t,e)=>t+e),0)}function A(){document.documentElement.style.scrollPaddingTop=E()+"px"}const C=[],B=[];function I(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),C.push(x(t))}function M(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),B.push(x(t))}function R(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):setTimeout(t,0)}function x(t){let e;function n(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(n))}}function N(t){const e=t.style.position;t.style.position="static";const n=t.getBoundingClientRect();return t.style.position=e,n}function O(t,e){return e.getBoundingClientRect().top-t.getBoundingClientRect().top}function S(){return parseFloat(getComputedStyle(document.documentElement).marginTop)}function T(){D(W()),m&&(f=S(),H(),Y())}function D(t){t!==m&&(t?(p.classList.add(o),p.style.position="sticky"):(p.classList.remove(o,s,d),p.style.position=null,p.style.top=null,b("gida-header",null)),m=t)}function H(){y=N(p).top+window.scrollY,p.style.top=y+v+"px";b("gida-header",p.getBoundingClientRect().height+y+v+u)}function Y(){if(!m)return;G(0!==window.pageYOffset);P(N(p).top+O(p,g)<=f)}function G(t){p.classList.contains(s)!==t&&(t?p.classList.add(s):p.classList.remove(s))}function P(t){if(p.classList.contains(d)===t)return;if(Math.abs(w-window.scrollY)<=r)return;if(w=window.scrollY,Math.abs(h-performance.now())<=c)return;h=performance.now(),v=t?-y+f-O(p,g):0,t?p.classList.add(d):p.classList.remove(d),p.style.top=y+v+"px";b("gida-header",p.getBoundingClientRect().height+y+v+u)}function W(){return!(window.innerWidth<l)&&!(window.innerHeight*a<g.clientHeight)}R((()=>{window.addEventListener("resize",(()=>{for(const t of C)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of B)t()}),{passive:!0})})),R((()=>{L(),p=t?document.getElementById(t):document.getElementsByClassName(n)[0],p&&(g=p.getElementsByClassName(i)[0]??p,I(T,!0),M(Y,!0))}))};
//# sourceMappingURL=fixed.min.js.map