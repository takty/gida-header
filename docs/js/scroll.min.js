"use strict";window.GIDA=window.GIDA??{},window.GIDA.header_scroll=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-header",o="gida-header-top",i="sticky",d="floating",l=e.minWindowWidth??600,s=e.maxHeaderHeightRate??.2,a=e.minSwitchingOffset??20,c=e.scrollPaddingOffset??8;let r,u,g=!1,p=0,m=0;function f(){const t=document.documentElement;if(null!==t.getAttribute("data-scroll-padding-top"))return;t.setAttribute("data-scroll-padding-top","");new MutationObserver(h).observe(t,{attributes:!0})}function w(t,e){const n=document.documentElement,o=n.getAttribute("data-scroll-padding-top"),i=o?new Map(o.split(",").map((t=>t.split(":")))):new Map;e?i.set(t,e):i.delete(t),n.setAttribute("data-scroll-padding-top",Array.from(i).map((t=>t.join(":"))).join(",")),h()}function h(){const t=document.documentElement,e=t.getAttribute("data-scroll-padding-top");if(""===e)t.style.scrollPaddingTop=null;else{const n=e.split(",").map((t=>t.split(":")[1]));t.style.scrollPaddingTop=`calc(${n.join(" + ")})`}}const v=[],E=[];function L(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),v.push(A(t))}function y(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),E.push(A(t))}function A(t){let e;function n(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(n))}}function b(t,e){return e.getBoundingClientRect().top-t.getBoundingClientRect().top}function C(){return parseFloat(getComputedStyle(document.documentElement).marginTop)}function B(){M(H()),g&&(p=C(),D(),O())}function M(t){t!==g&&(t?r.classList.add(i):(r.classList.remove(i,d),r.style.top=null,w("gida-header",null)),g=t)}function D(){const t=p-b(r,u);r.style.top=t+"px";w("gida-header",r.getBoundingClientRect().height+t+c+"px")}function O(){if(!g)return;R(Math.floor(u.getBoundingClientRect().top)<=p)}function R(t){r.classList.contains(d)!==t&&(Math.abs(m-window.scrollY)<=a||(m=window.scrollY,t?r.classList.add(d):r.classList.remove(d)))}function H(){return!(window.innerWidth<l)&&!(window.innerHeight*s<u.clientHeight)}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of v)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of E)t()}),{passive:!0})})),document.addEventListener("DOMContentLoaded",(()=>{f(),r=t?document.getElementById(t):document.getElementsByClassName(n)[0],r&&(u=r.getElementsByClassName(o)[0]??r,L(B,!0),y(O,!0))}))};
//# sourceMappingURL=scroll.min.js.map