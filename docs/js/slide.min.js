"use strict";window.GIDA=window.GIDA??{},window.GIDA.header_slide=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="gida-header",o="gida-header-top",i="sticky",l="floating",s=e.minWindowWidth??600,d=e.maxHeaderHeightRate??.2,c=e.minSwitchingOffset??100,r=e.minSwitchingTime??200,a=e.scrollPaddingOffset??8,u=e.margin??200;let m,p,g=!1,f=0,w=0,h=Number.MAX_SAFE_INTEGER,y=0,v=0,b=0,E=null,T=0;const A=null!==navigator.userAgent.match(/iPad|iPhone|iPod/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;function C(){const t=document.documentElement;if(null!==t.getAttribute("data-scroll-padding-top"))return;t.setAttribute("data-scroll-padding-top","");new MutationObserver(B).observe(t,{attributes:!0});const e=parseInt(getComputedStyle(t).scrollPaddingTop);I("default",Number.isNaN(e)?0:e)}function I(t,e){const n=document.documentElement,o=n.getAttribute("data-scroll-padding-top"),i=o?new Map(o.split(",").map((t=>t.split(":")))):new Map;e?i.set(t,e):i.delete(t),n.setAttribute("data-scroll-padding-top",Array.from(i).map((t=>t.join(":"))).join(",")),B()}function M(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=document.documentElement,n=e.getAttribute("data-scroll-padding-top");if(!n)return 0;const o=n.split(",").map((t=>t.split(":"))).filter((e=>{let[n]=e;return n!==t})).map((t=>{let[e,n]=t;return parseInt(n)}));return o.reduce(((t,e)=>t+e),0)}function B(){document.documentElement.style.scrollPaddingTop=M()+"px"}const L=[],Y=[];function P(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),L.push(x(t))}function N(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&t(),Y.push(x(t))}function R(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):setTimeout(t,0)}function x(t){let e;function n(){e=!1,t()}return()=>{e||(e=!0,requestAnimationFrame(n))}}function S(t){const e=t.style.position;t.style.position="static";const n=t.getBoundingClientRect();return t.style.position=e,n}function H(t,e){return e.getBoundingClientRect().top-t.getBoundingClientRect().top}function O(){return parseFloat(getComputedStyle(document.documentElement).marginTop)}function D(){const t=document.createElement("div");t.style.opacity=0,t.style.position="absolute",t.style.height="calc(100lvh - 100svh)",document.body.appendChild(t);const e=t.clientHeight;return document.body.removeChild(t),e}function G(){const t=window.location.hash;if(!t||t.length<2||"#"!==t[0])return;const e=document.getElementById(t.substring(1));e&&setTimeout((()=>{const t=parseInt(document.documentElement.style.scrollPaddingTop,10);window.scrollTo(0,e.getBoundingClientRect().top+window.pageYOffset-t)}),0)}function F(){W(q()),g&&(f=O(),_(),j(!0))}function W(t){t!==g&&(t?m.classList.add(i):(m.classList.remove(i,l),m.style.position=null,m.style.top=null,I("gida-header",null)),g=t)}function _(){const t=S(m),e=H(m,p);y=t.top+window.scrollY,v=t.bottom+window.scrollY,b=Math.ceil(f-e)}function j(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];g&&(k(v+u<=window.scrollY+f,t),setTimeout((()=>{I("gida-header",Math.ceil(m.getBoundingClientRect().height+b+a)+T)}),0))}function k(t,e){if(!e){if(m.classList.contains(l)===t)return;if(Math.abs(w-window.scrollY)<=c)return;if(w=window.scrollY,Math.abs(h-performance.now())<=r)return;h=performance.now()}clearTimeout(E),t?(m.classList.add(l),m.style.position="sticky",m.style.top=y-window.scrollY+"px",E=setTimeout((()=>{m.style.top=b+"px"}),0)):(m.classList.remove(l),window.scrollY+f<v?(m.style.position=null,m.style.top=null):(m.style.top=y-window.scrollY+"px",E=setTimeout((()=>{m.style.position=null,m.style.top=null}),200)))}function q(){return!(window.innerWidth<s)&&!(window.innerHeight*d<p.clientHeight)}R((()=>{window.addEventListener("resize",(()=>{for(const t of L)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of Y)t()}),{passive:!0})})),R((()=>{C(),T=A?D():0,m=t?document.getElementById(t):document.getElementsByClassName(n)[0],m&&(p=m.getElementsByClassName(o)[0]??m,P(F,!0),N(j,!0),G())}))};
//# sourceMappingURL=slide.min.js.map